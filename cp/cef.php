<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>COURIER BILLING SYSTEM</title>

<script language="javascript" type="text/javascript" src="datetimepicker.js">

</script>

<style type="text/css">
<!--
.style1 {font-family: Arial, Helvetica, sans-serif}
-->
</style>

<style type="text/css">
<!--
.style2 {
	color: #CCCCCC
}
#form1 p label {
	font-family: Arial, Helvetica, sans-serif;
}
#abc p {
	font-family: Arial, Helvetica, sans-serif;
}
body {
	background-image: url();
}
#ndiv
{
	position:absolute;
	left:3.122cm;
	top:3.043cm;
	right:5cm;
	bottom:2cm;
	width: 1000px;
	height: 476px;
}

#sertb
{
	position:absolute;
	left:9.895cm;
	top:1.561cm;
}
.sp1 {
	font-family: Arial, Helvetica, sans-serif;
}
.pord1 {
	font-family: Arial, Helvetica, sans-serif;
}
.notes1 {
	font-family: Arial, Helvetica, sans-serif;
}
.H31 {
	font-family: Arial, Helvetica, sans-serif;
}
.Z1 {
	font-family: Arial, Helvetica, sans-serif;
}
.z {
	font-family: Arial, Helvetica, sans-serif;
}
.z {
	font-family: Arial, Helvetica, sans-serif;
}
.z {
	font-family: Arial, Helvetica, sans-serif;
}
.z {
	font-family: Arial, Helvetica, sans-serif;
}
.zsf {
	background-color: #FFF;
	border-top-style: none;
	border-right-style: none;
	border-bottom-style: none;
	border-left-style: none;
}
.zdf {
	border-top-style: none;
	border-right-style: none;
	border-bottom-style: none;
	border-left-style: none;
}
.zsf {
	border-top-style: none;
	border-right-style: none;
	border-bottom-style: none;
	border-left-style: none;
}
.zsf {
	border-top-style: none;
	border-right-style: none;
	border-bottom-style: none;
	border-left-style: none;
}
#ndiv #abc table tr td .style1 #zonestate {
	color: #DADADA;
}
#ndiv #abc table tr td .style1 #zonedis8 {
	color: #DADADA;
}
#ndiv #abc table tr td #zonecity {
	color: #DADADA;
}
#ndiv #abc table tr td #pincode {
	color: #DADADA;
}
#ndiv #abc table tr td .style1 #zonedis8 {
	color: #DADADA;
}
-->
</style>
<script language="JavaScript" type="text/javascript">
function first()
{

document.getElementById("abc").reset();
document.getElementById("cuno").focus();
document.getElementById("p1kgt").disabled= true ;
document.getElementById("amb").disabled= true ;
	document.getElementById("amc").disabled= true ;
	
}

function color1()
{
document.abc.cuno.style.backgroundColor="#FFFF66";
//document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFF";
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFF";

}

function color2()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFFF66";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFF";
//style="background:#FFF"
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFF";

}

function color3()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFFF66";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFF";
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFF";

}

function color4()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFFF66";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFF";
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFF";

}

function color5()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFFF66";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFF";
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFF";

}

function color6()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFFF66";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFF";
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFF";

}

function color7()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFFF66";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFF";
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFF";

}

function color8()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFFF66";
document.abc.imgdh.style.backgroundColor="#FFFF66";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFF";
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFF";

}

function color9()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFFF66";
document.abc.SUB.style.backgroundColor="#FFF";
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFF";

}

function color10()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFFF66";
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFF";

}

function color11()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFF";
document.abc.amb.style.backgroundColor="#FFFF66";
document.abc.amc.style.backgroundColor="#FFF";
}

function color12()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFF";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";
document.abc.SUB.style.backgroundColor="#FFF";
document.abc.amb.style.backgroundColor="#FFF";
document.abc.amc.style.backgroundColor="#FFFF66";

}
////////////////////////////////////////////////////////////////////////////////////////
function displayunicode11(e){
var unicode=e.keyCode;//? e.keyCode : e.charCode;
var a=document.getElementById("tind").value;

if(unicode !=13 && a==0)
{
document.getElementById("tind").value=1;
}


if(unicode ==13 && a==1)
{
document.getElementById("spe").focus();
document.getElementById("tind").value=1;
}

}

function displayunicode12(e){
var unicode=e.keyCode;//? e.keyCode : e.charCode;

if(unicode ==13)
{
document.getElementById("des").focus();
}

}

function displayunicode13(e){
var unicode=e.keyCode;//? e.keyCode : e.charCode;

if(unicode ==13)
{
document.getElementById("weight").focus();
}

}

function displayunicode14(e){
var unicode=e.keyCode;//? e.keyCode : e.charCode;

if(unicode ==13)
{
	
	var a=document.getElementById("p1kgt").disabled;
if(a==false)
document.getElementById("p1kg1").focus();

if(a==true)
document.getElementById("pord").focus();

}

}


function displayunicode15(e){
var unicode=e.keyCode;//? e.keyCode : e.charCode;

if(unicode ==13)
{
	
document.getElementById("cucd").focus();

}

}


function displayunicode16(e){
var unicode=e.keyCode;//? e.keyCode : e.charCode;

if(unicode ==13)
{
	
document.getElementById("cucd").focus();

}

}

function displayunicode17(e){
var unicode=e.keyCode;//? e.keyCode : e.charCode;

if(unicode ==13)
{
	
document.getElementById("imgdh").focus();

}

}


function displayunicode18(e){

var unicode=e.keyCode;//? e.keyCode : e.charCode;
var a = document.getElementById("amb").disabled;
var b = document.getElementById("qind").value;


if(unicode ==13 && a==false)
{
	
document.getElementById("amb").focus();

}

if(unicode ==13 && a==true)
{
	
	if(b==1)
	{
     document.getElementById("note").focus();
	}
	document.getElementById("qind").value=1;

}


}

function displayunicode19(e)
{
var unicode=e.keyCode;//? e.keyCode : e.charCode;

if(unicode==13)
{
document.getElementById("SUB").focus();
}
}

function displayunicode20(e)
{
var unicode=e.keyCode;//? e.keyCode : e.charCode;

if(unicode==13)
{

document.getElementById("cuno").focus();
}
}

function displayunicode21(e)
{
var unicode=e.keyCode;//? e.keyCode : e.charCode;

if(unicode==13)
{

document.getElementById("amc").focus();
}
}

function displayunicode22(e)
{
var unicode=e.keyCode;//? e.keyCode : e.charCode;

if(unicode==13)
{

document.getElementById("note").focus();
}
}






</script>
</head>

<body onload="first()" >


<div id="mydiverr"></div>
<label><H3 class="H31">PLEASE ENTER DETAILS OF CONSIGNMENT SENT AND SELECT RIGHT ZONE FOR YOUR DESTINATION</H3></label>


<div id="ndiv" style="border:3px solid black">
<form id="abc" name="abc" action="" >
<table width="900" height="460" border="0">
  <tr>
    <td width="320"><span class="style1">Fields marked with * are compulsary</span></td>
    <td><span class="style1"><span class="z">STATE</span>
        <input name="zonestate" type="text" disabled="disabled" class="zdf" id="zonestate" style="border:none" style="background-color:#CCC" />
    </span></td>
    <td><span class="style1"><span class="z">DISTRICT</span>
        <input name="zonedis8" type="text" disabled="disabled" id="zonedis8" style="border:none" style="background-color:#CCC" />
    </span></td>
    <td><span class="z">CITY</span>
      <input name="zonecity" type="text" disabled="disabled" id="zonecity" style="border:none" style="background-color:#CCC" /></td>
    
  </tr>
  <tr>
    <td><span class="style1">Courier No*
      <input name="cuno" type="text" id="cuno" value="Z" onfocus="color1()" tabindex="1" onkeyup="displayunicode11(event)"    />
    </span></td>
    <td colspan="3"><span class="sp1">SPECIAL</span>
      <select name="spe" id="spe" onfocus="color2()"  onchange="chspe()" tabindex="2" onkeypress="displayunicode12(event)"  >
        <option>yes</option>
        <option selected="selected">no</option>
      </select></td>  </tr>
  <tr>
    <td>&nbsp;</td>
    <td width="239">&nbsp;</td>
    <td width="162">&nbsp;</td>
    <td width="161"><span class="z">PIN</span>
<input name="pincode" type="text" disabled="disabled" id="pincode" style="border:none" style="background-color:#CCC"/></td>
  </tr>
  <tr>
    <td><span class="style1">Destination*
      <input type="text" name="des" id="des"  onkeyup="displayunicode(event)"  onfocus="color3()" tabindex="3" />
    </span></td>
    <td colspan="3"><span class="style1">
      <input name="sctext1" disabled="disabled" id="sctext"  />
      <label for="spe"></label>
      <label><span class="dots">...</span> Booked From Jalandhar</label>
    </span></td>
  </tr>
  <tr>
    <td><span class="Z1">ZONE</span><select name="zone" id="zone" onfocus="timepass()" onkeyup="displayunicode13(event)"  >
  <option value="SHIPPER" selected="selected">SHIPPER</option>
  <option value="ZONE">ZONE</option>
  <option value="ROI">REST OF INDIA</option>
</select></td>
    
  </tr>
  <tr>
    <td><span class="style1">Weight
      <select name="weight" id="weight"  onchange="selch()" onfocus="color4()" onkeyup="displayunicode14(event)" >
        <option value="250" selected="selected">D250G</option>
        <option value="500">D500G</option>
        <option value="1000">D1KG</option>
        <option value="parcel1kg">P1KG</option>
      </select>
      <input name="p1kgt" type="text" id="p1kgt" value="1" onfocus="color5()" onkeyup="displayunicode15(event)" />
      KG    </span></td>
    <td colspan="3"><span class="pord1">PARCEL or DOCUMENT</span><select name="pord" id="pord" onfocus="color6()" onkeyup="displayunicode16(event)" >
      <option value="parcel">Parcel</option>
      <option value="document" selected="selected">Document</option>
</select></td>
  </tr>
  <tr>
    <td>
    <!--/*********************for select**************/-->
<?PHP
define("__ROOT__",dirname(__FILE__));
require_once(__ROOT__."/projectconstant.php");
$username = "$serveruser";
$password = "$serverpass";
$hostname = "$servername";	
$dbh = mysql_connect($hostname, $username, $password) 
		or die("Unable to connect to MySQL");
$selected = mysql_select_db($serverdatabse,$dbh) 
		or die("Could not select customer data");

$query = "select ccode,id from cdata ORDER BY id ASC";
$result=mysql_query($query);

?>
<span class="style1">CUSTOMER CODE*
<select name="cucd" ID="cucd" onchange="callsdcheck1()" onfocus="color7()" onkeyup="displayunicode17(event)" >
<option value="PS">Please Select</option>
<?php
while($row = mysql_fetch_array($result))
{
echo $row["ccode"];
echo $row[1];

?>
<option value="<?php echo $row["ccode"];   ?>"><?php echo $row["ccode"];   ?></option>
<?php
}
?>
</select>
</span>
<!--/*********************for select**************/-->

    <!--
    <span class="style1">CUSTOMER CODE*
      <select name="cucd" id="cucd"  >
        <option value="PS">PLEASE SELECT</option>
        <option value="mp">MP</option>
        <option value="jr">JR</option>
        <option value="jma">JMA</option>
        <option value="britania">BRITANIA</option>
        <option value="everfresh">EVERFRESH</option>
        <option value="nddb">NDDB</option>
        <option value="vm">VM</option>
</select>
    </span>
    
    
    -->
    </td>
    <td colspan="3"><span class="style1">DATE*
      <input name="da" type="text" disabled="disabled" id="da"  readonly="readonly"  />
      <a href="javascript:NewCal('da','ddmmyyyy')" id="imgdh" onkeyup="displayunicode18(event)" onfocus="color8()" ><img src="cal.gif" id="imgd" width="53" height="36" border="0" alt="Pick a date" /></a>    DD-MM-YYYY</span></td>
  </tr>
  <tr>
    <td><span class="style1">AMOUNT BILLED
      <input name="amb" type="text" id="amb" value="0" onfocus="color11()" onkeyup="displayunicode21(event)" />
    </span></td>
    <td colspan="3"><span class="style1">AMOUNT CHARGED
      <input name="amc" type="text" id="amc" value="0"  onfocus="color12()" onkeyup="displayunicode22(event)" />
    </span></td>
  </tr>
  <tr>
    <td><span class="notes1">NOTES</span><textarea name="note" onfocus="color9()" id="note" cols="45" rows="5" onkeyup="displayunicode19(event)" >empty</textarea></td>
    <td colspan="3"><input type="button" name="SUB" id="SUB" value="ADD TO BILL" onclick="adde()" onfocus="color10()"     /></td>
  </tr>
</table>

  <label><span class="style1"><br />
  </span></label>
  <div id="sertb"></div>
  <p>&nbsp;</p>
  <p>
    <label>  </label>
  </p>
  <p>
    <label><span class="style1"></span></label>
  </p>
  <p>    <span class="style1">
      <label> </label>
</span></p>
<p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>
    <label><span class="style2"><span class="style1">....................</span>......................................................................</span></label>
  </p>
  <p>
    <label for="mind"></label>
    <input name="mind" type="text" disabled="disabled" id="mind" value="0" readonly="readonly" />
    <label for="tind"></label>
    <input name="tind" type="text" disabled="disabled" id="tind" value="0" readonly="readonly" />
    <label for="qind"></label>
    <input name="qind" type="text" disabled="disabled" id="qind" value="0" readonly="readonly" />
  </p>
</form>
</div>
<a href="index.php"><img src="BACKB.png" width="93" height="83" alt="BACK" /></a></div>

<script type="text/javascript">



//*********************************function call zone start
function callzone()
{
	

	
var abc = document.getElementById("des").value;



 var url = "http://localhost/cp/serzone.php?a1="+abc;
  
  
  if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  aser5=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  aser5=new ActiveXObject("Microsoft.XMLHTTP");
  }
aser5.onreadystatechange=function()
  {
  if (aser5.readyState==4 && aser5.status==200)
    {
    //document.getElementById("zonedis8").value=aser5.responseText;
	var res = aser5.responseText;
	filltext5(res);
	chosezone();
    }
  }

 
aser5.open("GET",url,true);
aser5.send();


	
}
//******************************************************************chose zone

function chosezone()
{
var temp10=document.getElementById("zonestate").value;
var inc=0;
var temp9 = "";
temp9 = document.getElementById("des").value;
var temp11 = document.getElementById("zonecity").value;	
	
	if(temp9=="")
	{
	alert("PLEASE ENTER DESTINATION");	
	document.getElementById("des").focus();
		javascript_abort();
	}
	

if(temp10=="")
{
alert("Please select zone as system can't find for it");
document.getElementById("zone").focus();
javascript_abort();	
}

	

if(temp10=="Punjab" || temp10=="Haryana" || temp10=="Himachal Pradesh" || temp10=="Chandigarh")
{
document.getElementById("zone").selectedIndex=0;
inc=1;
}


if(temp10=="Delhi" || temp11=="Noida" || temp11=="Gurgaon" || temp11=="Ghaziabad")
{
document.getElementById("zone").selectedIndex=1;
inc=1;
}


if(temp11=="Jammu")	
	{
	document.getElementById("zone").selectedIndex=0;
	inc=1;	
	}



if(inc==0)
{
	
document.getElementById("zone").selectedIndex=2;
}

	
}



//******************************function fill text 5 start


function filltext5(str)
{

var len = str.length;
var textboxcall=0;
var string="";
var index;
index = str.indexOf("*");
var x = index;
var ind=0;
 
for(x=x+1;x<=len;x++)
{

var check = str.charAt(x);
												
		
						if(check == "*")
							{
							
							
							
							
							if(ind==0)
							{	
							document.getElementById("zonedis8").value=string;
							}
							
							if(ind==1)	
							{
							document.getElementById("zonecity").value=string;
							}
							
							if(ind==2)	
							{
							document.getElementById("zonestate").value=string;
							}
							
							if(ind==3)	
							{
							
							document.getElementById("pincode").value=string;
							}
							
							ind=ind+1;
							string="";
							
							}
							
							
						if(check != "*" )
							{
							string += check;
							}
}


}

//*******************************function fill text 5 end



//*********************************function call zone end

//*********************************function to display key code start and find city
function displayunicode(e){
var unicode=e.keyCode;//? e.keyCode : e.charCode;
//alert(unicode);
var abc = document.getElementById("des").value;
var m = document.getElementById("mind").value;

//alert(abc);

 var url = "http://localhost/cp/sercity.php?a1="+abc;
  
  
  if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  aser=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  aser=new ActiveXObject("Microsoft.XMLHTTP");
  }
aser.onreadystatechange=function()
  {
  if (aser.readyState==4 && aser.status==200)
    {
    document.getElementById("sctext").value=aser.responseText;
	var res = aser.responseText;
	filltext(res);
    }
  }

 
aser.open("GET",url,true);
aser.send();

if(unicode!=13)
{
document.getElementById("mind").value=1;	
m=1;	
}


if(unicode ==13 && m==1)
{

document.getElementById("des").value=document.getElementById("sctext").value;
document.getElementById("zone").focus();
}


}
//*******************************************main function brace close

//******************************function fill text start

function filltext(str)
{

var len = str.length;
var textboxcall=0;
var string="";
var index;
index = str.indexOf("*");
var x = index;


for(x=x+1;x<=len;x++)
{

var check = str.charAt(x);
												
		
						if(check == "*")
							{
							document.getElementById("sctext").value=string;
							
							}
							
							
						if(check != "*" )
							{
							string += check;
							}
}


}

//*******************************function fill text end
function findcity()
{
	var abc = document.getElementById("des").value;
	
	alert(abc);
	
}

//*********************************function to display key code stop and find city
</script>

<script type="text/javascript">
//*********************************checking shipper and destination

function callsdcheck1()
{
	color7();
var q = confirm("HAVE SELECTED RIGHT ZONE FOR THIS DESTINATION AND HAVE YOU SELECTED RIGHT CUSTOMER !!!");

	
	var temp8 = document.getElementById("des").value;
	
	
	if(temp8=="")
	{
	alert("PLEASE ENTER DESTINATION");	
	document.getElementById("des").focus();
		javascript_abort();
	}
	
	
if(q==true)
{
	//*******************************
	
	
var spex = document.getElementById("spe").value;

var weightx = document.getElementById("weight").value;

var p1kgtx = document.getElementById("p1kgt").value;

var pordx = document.getElementById("pord").value;

var zonex = document.getElementById("zone").value;


//***************************************validation start



if(weightx=="parcel1kg" && p1kgtx=="")
 {
	  alert("Please enter weight of the parcel");
	  document.abc.p1kgt.focus();
 	  javascript_abort();
     }
	 
	 var dc=/^[0-9(\s)]+$/; 
	
	if (dc.test(p1kgtx))
		{
		true;
		}
		else
		{
		alert("Only enter Digits only ");
		document.abc.p1kgt.focus();
		javascript_abort();
		}


if(weightx!="parcel1kg" && pordx=="parcel")
 {
	  alert("Please change to document as you are entering document data");
	  document.abc.pord.focus();
 	  javascript_abort();
     }



if(weightx=="parcel1kg" && pordx=="document")
 {
	  alert("Please change to parcel as you are entering parcel data");
	  document.abc.pord.focus();
 	  javascript_abort();
     }


if(spex=="no" )
 {


	
//*************************************PARCEL START

if(pordx=="parcel")
{
	
weightx=p1kgtx;
if(zonex=="SHIPPER")
{
var url = "http://localhost/cp/bills.php?a1="+weightx+"&b1="+pordx+"&c1="+zonex+"&d1="+p1kgtx;
}

if(zonex=="ZONE")
{
var url = "http://localhost/cp/billz.php?a1="+weightx+"&b1="+pordx+"&c1="+zonex+"&d1="+p1kgtx;}

if(zonex=="ROI")
{
var url = "http://localhost/cp/billr.php?a1="+weightx+"&b1="+pordx+"&c1="+zonex+"&d1="+p1kgtx;}

}
//*********************PARCEL END
	
//*********************************DUCUMENT START

if(pordx=="document")
{
//document brace open
if(zonex=="SHIPPER")
{
var url = "http://localhost/cp/bills.php?a1="+weightx+"&b1="+pordx+"&c1="+zonex+"&d1="+p1kgtx;

}
if(zonex=="ZONE")
{
var url = "http://localhost/cp/billz.php?a1="+weightx+"&b1="+pordx+"&c1="+zonex+"&d1="+p1kgtx;}

if(zonex=="ROI")
{
var url = "http://localhost/cp/billr.php?a1="+weightx+"&b1="+pordx+"&c1="+zonex+"&d1="+p1kgtx;
}
}
//***************************************************document brace close


if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  amb1=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  amb1=new ActiveXObject("Microsoft.XMLHTTP");
  }
amb1.onreadystatechange=function()
  {
  if (amb1.readyState==4 && amb1.status==200)
    {
    document.getElementById("amb").value=amb1.responseText;
	var res = amb1.responseText;
	fillamount(res);
 	
    }
  }

 document.getElementById("da").focus();
amb1.open("GET",url,true);
amb1.send();




//************************************ FUNCTION TO ADD ENTRY START MAIN FUNCTION ENDS
//*************abort javascript function

	

	
	//******************************
 }
}
if(q==false)
{
document.getElementById("zone").focus();

javascript_abort();
	
}

}


//****************************************fill amount

function fillamount(str)
{

var len = str.length;
var textboxcall=0;
var string="";
var index;
index = str.indexOf("*");
var x = index;


for(x=x+1;x<=len;x++)
{

var check = str.charAt(x);
												
		
						if(check == "*")
							{
							document.getElementById("amb").value=string;
							
							}
							
							
						if(check != "*" )
							{
							string += check;
							}
}


}

//*******************************function fill text end




//****************************************fill amount



function callsdcheck()
{
	
var q = confirm("HAVE SELECTED RIGHT ZONE FOR THIS DESTINATION AND HAVE YOU SELECTED RIGHT CUSTOMER !!!");

	
if(q==true)
{
	
}
if(q==false)
{
document.getElementById("zone").focus();

javascript_abort();
	
}

}





//***********************************checking shipper destination
//**********************************checking special
function chspe()
{
	
var check = document.getElementById("spe").value;

if(check == "yes")
{
	
	document.getElementById("amb").disabled= false ;
	document.getElementById("amc").disabled= false ;
	document.getElementById("amb").focus();
	
}

if(check == "no")
{

document.getElementById("amb").disabled= true ;
document.getElementById("amc").disabled= true ;
}
}

//**********************************checking special
//*********************************function for select change
function selch()
{
	
var check = document.getElementById("weight").value;

if(check == "parcel1kg")
{
	
	document.getElementById("p1kgt").disabled= false ;
	document.getElementById("p1kgt").focus();
	
}

if(check != "parcel1kg")
{
	
	document.getElementById("p1kgt").disabled= true ;
	
	
}
}
//*********************************function for select change ENDS
function timepass()
{
document.abc.cuno.style.backgroundColor="#FFF";
document.abc.spe.style.backgroundColor="#FFF";
document.abc.des.style.backgroundColor="#FFF";
document.abc.zone.style.backgroundColor="#FFFF66";
document.abc.weight.style.backgroundColor="#FFF";
document.abc.p1kgt.style.backgroundColor="#FFF";
document.abc.pord.style.backgroundColor="#FFF";
document.abc.cucd.style.backgroundColor="#FFF";
document.abc.da.style.backgroundColor="#FFF";
document.abc.note.style.backgroundColor="#FFF";

	document.getElementById("cucd").selectedIndex=0;
}
//************************************ FUNCTION TO ADD ENTRY START MAIN FUNCTION
function adde()
{
	
//alert(" i am running");
var cunox = document.getElementById("cuno").value;
//alert (cunox);
var spex = document.getElementById("spe").value;
//alert (spex);

var desx = document.getElementById("des").value;
//alert (desx);
var weightx = document.getElementById("weight").value;
//alert (weightx);

var p1kgtx = document.getElementById("p1kgt").value;
//alert (p1kgtx);
var pordx = document.getElementById("pord").value;
//alert (pordx);
var ambx = document.getElementById("amb").value;
//alert (ambx);
var amcx = document.getElementById("amc").value;
//alert (amcx);
var cucdx = document.getElementById("cucd").value;
//alert (cucdx);
var dax = document.getElementById("da").value;
//alert (dax);
var notex = document.getElementById("note").value;
//alert (notex);
var zonex = document.getElementById("zone").value;

var p1kgtx = document.getElementById("p1kgt").value;




callsdcheck1();


//var t = setTimeout("callsdcheck1()",5000);

//***************************************validation start


 if(cunox=="")
 {
	  alert("Please enter Cosignment No");
	  document.abc.cuno.focus();
 	  javascript_abort();
     }


var dc=/^[a-zA-Z0-9(\s)]+$/; 
	
	if (dc.test(cunox))
		{
		true;
		}
		else
		{
		alert("Only enter Characters and Digits ");
		document.abc.cuno.focus();
		javascript_abort();
		}
	


if(desx=="")
 {
	  alert("Please enter Destination Station");
	  document.abc.des.focus();
 	  javascript_abort();
     }


var dc=/^[a-zA-Z(\s)]+$/; 
	
	if (dc.test(desx))
		{
		true;
		}
		else
		{
		alert("Only enter Characters");
		document.abc.des.focus();
		javascript_abort();
		}



if(weightx=="parcel1kg" && p1kgtx=="")
 {
	  alert("Please enter weight of the parcel");
	  document.abc.p1kgt.focus();
 	  javascript_abort();
     }
	 
	 var dc=/^[0-9(\s)]+$/; 
	
	if (dc.test(p1kgtx))
		{
		true;
		}
		else
		{
		alert("Only enter Digits only ");
		document.abc.p1kgt.focus();
		javascript_abort();
		}



if(weightx=="parcel1kg" && pordx=="document")
 {
	  alert("Please change to parcel as you are entering parcel data");
	  document.abc.pord.focus();
 	  javascript_abort();
     }

if(cucdx=="PS")
 {
	  alert("Please Select a customer code");
	  document.abc.cucd.focus();
 	  javascript_abort();
     }

if(dax=="")
 {
	  alert("Please enter date on which consignment was sent");
	  document.abc.da.focus();
 	  javascript_abort();
     }






if(spex=="yes" && ambx=="0" )
 {
	  alert("Please enter billing amount as this consignment was sent as special.");
	  document.abc.amb.focus();
 	  javascript_abort();
     }

if(spex=="yes" && amcx=="0")
 {
	  alert("Please enter charged amount as this consignment was sent as special.");
	  document.abc.amc.focus();
 	  javascript_abort();
     }

if(spex=="yes" && ambx=="" )
 {
	  alert("Please enter billing amount as this consignment was sent as special.");
	  document.abc.amb.focus();
 	  javascript_abort();
     }

if(spex=="yes" && amcx=="")
 {
	  alert("Please enter charged amount as this consignment was sent as special.");
	  document.abc.amc.focus();
 	  javascript_abort();
     }

var dc=/^[0-9(\s)]+$/; 
	
	if (dc.test(ambx))
		{
		true;
		}
		else
		{
		alert("Only enter Digits only ");
		document.abc.amb.focus();
		javascript_abort();
		}
		
var dc=/^[0-9(\s)]+$/; 
	
	if (dc.test(amcx))
		{
		true;
		}
		else
		{
		alert("Only enter Digits only ");
		document.abc.amc.focus();
		javascript_abort();
		}



//**************PARCEL + PARCEL CHECK
if(weightx == "parcel1kg" && pordx == "document")
{
	
	alert("Please select parcel for parcel");
	document.getElementById("pord").focus();
	 	  javascript_abort();

	
}

if(weightx != "parcel1kg" && pordx != "document")
{
	
	alert("Please select proper weight or parcel or document");
	document.getElementById("pord").focus();
	 	  javascript_abort();

	
}

//*************PARCEL + PARCEL CHECK
document.getElementById("SUB").disabled=true;
	var t = setTimeout("tableinsert()",1700);
	

//************************************validation end

}
//************************************ FUNCTION TO ADD ENTRY START MAIN FUNCTION ENDS

//(((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((




function tableinsert()
{
	


//alert(" i am running");
var cunox = document.getElementById("cuno").value;
//alert (cunox);
var spex = document.getElementById("spe").value;
//alert (spex);

var desx = document.getElementById("des").value;
//alert (desx);
var weightx = document.getElementById("weight").value;
//alert (weightx);

var p1kgtx = document.getElementById("p1kgt").value;
//alert (p1kgtx);
var pordx = document.getElementById("pord").value;
//alert (pordx);
var ambx = document.getElementById("amb").value;
//alert (ambx);
var amcx = document.getElementById("amc").value;
//alert (amcx);
var cucdx = document.getElementById("cucd").value;
//alert (cucdx);
var dax = document.getElementById("da").value;
//alert (dax);
var notex = document.getElementById("note").value;
//alert (notex);
var zonex = document.getElementById("zone").value;

var p1kgtx = document.getElementById("p1kgt").value;







//************************************special starts
if (spex== "yes")
{
//alert("speical working");

var r=confirm("HAVE YOU ENTERED SPECIAL C\N DETAILS CORRECT !!!!!!!!! ");
if (r==true)
  {
  alert("You pressed OK!");
  var url = "http://localhost/cp/speentry.php?a1="+cunox+"&b1="+desx+"&c1="+weightx+"&d1="+pordx+"&e1="+ambx+"&f1="+amcx+"&g1="+cucdx+"&h1="+dax+"&i1="+notex+"&j1="+spex+"&k1="+zonex+"&l1="+p1kgtx;
  
  
  if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  entryxspe=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  entryxspe=new ActiveXObject("Microsoft.XMLHTTP");
  }
entryxspe.onreadystatechange=function()
  {
  if (entryxspe.readyState==4 && entryxspe.status==200)
    {
    document.getElementById("mydiverr").innerHTML=entryxspe.responseText;
	
    }
  }

 
entryxspe.open("GET",url,true);
entryxspe.send();

document.getElementById("cuno").value = "";
document.getElementById("des").value = "";
document.getElementById("weight").value = "D250";
document.getElementById("da").value = "";
document.getElementById("p1kgt").value = "1";
document.getElementById("SUB").disabled=false;
document.getElementById("amb").disabled=true;
document.getElementById("amc").disabled=true;
document.getElementById("abc").reset();
 // window.location.reload();
  
  
  }
else
  {
  alert("You pressed Cancel!");
  }

javascript_abort();	
}

//***********************************special ends


//**************************CONFIRMATION STAET

var rC=confirm("HAVE ENTERED C\N DETAILS CORRECT !!!!");
if (rC==true)
  {
  //alert("You pressed OK!");
  }
else
  {
	  javascript_abort();
  //alert("You pressed Cancel!");
  }

//*************************CONFIRMATION END



//alert(pordx);
//*************************************PARCEL START

if(pordx=="parcel")
{
	//alert("i am parcel");
weightx=p1kgtx;
if(zonex=="SHIPPER")
{
var url = "http://localhost/cp/addentrys.php?a1="+cunox+"&b1="+desx+"&c1="+weightx+"&d1="+pordx+"&e1="+ambx+"&f1="+amcx+"&g1="+cucdx+"&h1="+dax+"&i1="+notex+"&j1="+spex+"&k1="+zonex+"&l1="+p1kgtx;
}

if(zonex=="ZONE")
{
var url = "http://localhost/cp/addentryz.php?a1="+cunox+"&b1="+desx+"&c1="+weightx+"&d1="+pordx+"&e1="+ambx+"&f1="+amcx+"&g1="+cucdx+"&h1="+dax+"&i1="+notex+"&j1="+spex+"&k1="+zonex+"&l1="+p1kgtx;
}

if(zonex=="ROI")
{
var url = "http://localhost/cp/addentryr.php?a1="+cunox+"&b1="+desx+"&c1="+weightx+"&d1="+pordx+"&e1="+ambx+"&f1="+amcx+"&g1="+cucdx+"&h1="+dax+"&i1="+notex+"&j1="+spex+"&k1="+zonex+"&l1="+p1kgtx;
}

}
//*********************PARCEL END
	
//*********************************DUCUMENT START

if(pordx=="document")
{
//document brace open
if(zonex=="SHIPPER")
{
var url = "http://localhost/cp/addentrys.php?a1="+cunox+"&b1="+desx+"&c1="+weightx+"&d1="+pordx+"&e1="+ambx+"&f1="+amcx+"&g1="+cucdx+"&h1="+dax+"&i1="+notex+"&j1="+spex+"&k1="+zonex+"&l1="+p1kgtx;
}
if(zonex=="ZONE")
{
var url = "http://localhost/cp/addentryz.php?a1="+cunox+"&b1="+desx+"&c1="+weightx+"&d1="+pordx+"&e1="+ambx+"&f1="+amcx+"&g1="+cucdx+"&h1="+dax+"&i1="+notex+"&j1="+spex+"&k1="+zonex+"&l1="+p1kgtx;
}

if(zonex=="ROI")
{
var url = "http://localhost/cp/addentryr.php?a1="+cunox+"&b1="+desx+"&c1="+weightx+"&d1="+pordx+"&e1="+ambx+"&f1="+amcx+"&g1="+cucdx+"&h1="+dax+"&i1="+notex+"&j1="+spex+"&k1="+zonex+"&l1="+p1kgtx;
}
}
//***************************************************document brace close


if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  entryx=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  entryx=new ActiveXObject("Microsoft.XMLHTTP");
  }
entryx.onreadystatechange=function()
  {
  if (entryx.readyState==4 && entryx.status==200)
    {
    document.getElementById("mydiverr").innerHTML=entryx.responseText;
	
    }
  }

 
entryx.open("GET",url,true);
entryx.send();

document.getElementById("cuno").value = "";
document.getElementById("des").value = "";
document.getElementById("weight").value = "D250";
document.getElementById("da").value = "";
document.getElementById("p1kgt").value = "1";

document.getElementById("abc").reset();

document.getElementById("p1kgt").disabled= true ;
document.getElementById("amb").disabled= true ;
document.getElementById("amc").disabled= true ;
document.getElementById("SUB").disabled=false;
document.getElementById("cuno").focus();
//************************************ FUNCTION TO ADD ENTRY START MAIN FUNCTION ENDS
	
	
	
	
	
}




//((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((



//*************abort javascript function

function javascript_abort()
{
   throw new Error('This is not an error. This is just to abort javascript');
document.getElementById("abc").reset();
document.getElementById("cuno").focus();
document.getElementById("p1kgt").disabled= true ;
document.getElementById("amb").disabled= true ;
	document.getElementById("amc").disabled= true ;

}



</script>
</body>
</html>